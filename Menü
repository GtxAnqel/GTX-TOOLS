#!/bin/bash

# Renkler
red='\033[31m'
green='\033[32m'
yellow='\033[33m'
cyan='\033[36m'
reset='\033[0m'

# BaÅŸlÄ±k
clear
figlet "GTX TOOL" | lolcat
echo -e "${cyan}GtxAnqel tarafÄ±ndan geliÅŸtirildi. EÄŸitim amaÃ§lÄ±dÄ±r.${reset}"
echo ""

# Ana MenÃ¼
while true; do
    echo -e "${yellow}â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ MENÃœ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€${reset}"
    echo -e "${green}[1] IP Tracer"
    echo -e "[2] KullanÄ±cÄ± AdÄ± TaramasÄ±"
    echo -e "[3] Link GÃ¼venlik Analizi"
    echo -e "[4] Sistem Bilgileri"
    echo -e "[5] Ã‡Ä±kÄ±ÅŸ${reset}"
    echo ""
    read -p "â¤ Bir seÃ§enek girin [1-5]: " secim

    case $secim in
        1)
            clear
            figlet "GTX IP-TRACER" | lolcat
            echo -e "${yellow}KULLANIM: GTX-MN (kÄ±lavuz) | GTX-M (kendi IP) | IP adresi girin${reset}"
            read -p "ğŸ” IP adresi ya da komut: " girdi

            function bilgi_goster {
                ip="$1"
                echo -e "${cyan}Bilgiler alÄ±nÄ±yor...${reset}"
                data=$(curl -s "http://ip-api.com/json/$ip?fields=status,country,regionName,city,district,zip,lat,lon,message")

                status=$(echo "$data" | grep -oP '(?<="status":")[^"]+')
                if [[ "$status" != "success" ]]; then
                    msg=$(echo "$data" | grep -oP '(?<="message":")[^"]+')
                    echo -e "${red}Hata: $msg${reset}"
                    continue
                fi

                country=$(echo "$data" | grep -oP '(?<="country":")[^"]+')
                region=$(echo "$data" | grep -oP '(?<="regionName":")[^"]+')
                city=$(echo "$data" | grep -oP '(?<="city":")[^"]+')
                district=$(echo "$data" | grep -oP '(?<="district":")[^"]+')
                zip=$(echo "$data" | grep -oP '(?<="zip":")[^"]+')
                lat=$(echo "$data" | grep -oP '(?<="lat":)[^,]+')
                lon=$(echo "$data" | grep -oP '(?<="lon":")[^,}]+')

                [[ -z "$district" ]] && district="Bilinmiyor"
                [[ -z "$zip" ]] && zip="Bilinmiyor"

                echo -e "${green}IP Bilgileri:${reset}"
                echo -e "  Ãœlke     : $country"
                echo -e "  BÃ¶lge    : $region"
                echo -e "  Åehir    : $city"
                echo -e "  Ä°lÃ§e     : $district"
                echo -e "  Posta Kodu : $zip"
                echo -e "  Konum    : $lat,$lon"
                echo -e "  Harita   : https://maps.google.com/?q=$lat,$lon"
                echo ""
            }

            if [[ "$girdi" == "GTX-M" ]]; then
                ip=$(curl -s ifconfig.me)
                bilgi_goster "$ip"
            elif [[ "$girdi" == "GTX-MN" ]]; then
                continue
            elif [[ "$girdi" =~ ^[0-9]+\.[0-9]+\.[0-9]+\.[0-9]+$ ]]; then
                bilgi_goster "$girdi"
            else
                echo -e "${red}GeÃ§ersiz giriÅŸ.${reset}"
            fi
            read -p "â†©ï¸ Enter ile menÃ¼ye dÃ¶n..."
            clear
            ;;
        2)
            clear
            figlet "GTX USERSCAN" | lolcat
            echo -e "${cyan}KullanÄ±cÄ± adÄ±nÄ±n sosyal medya hesaplarÄ±nda kullanÄ±lÄ±p kullanÄ±lmadÄ±ÄŸÄ±nÄ± tarar.${reset}"
            read -p "ğŸ” KullanÄ±cÄ± adÄ± girin: " kullanici

            platformlar=(
                "Instagram:https://www.instagram.com/"
                "Twitter:https://www.twitter.com/"
                "GitHub:https://www.github.com/"
                "Facebook:https://www.facebook.com/"
                "TikTok:https://www.tiktok.com/@"
                "Reddit:https://www.reddit.com/user/"
                "YouTube:https://www.youtube.com/@"
            )

            for site in "${platformlar[@]}"; do
                isim=$(echo "$site" | cut -d":" -f1)
                url=$(echo "$site" | cut -d":" -f2-)
                tam_url="${url}${kullanici}"
                status=$(curl -s -o /dev/null -w "%{http_code}" "$tam_url")

                if [[ "$status" == "200" || "$status" == "302" ]]; then
                    echo -e "${green}[âœ“] $isim bulundu: $tam_url${reset}"
                else
                    echo -e "${red}[âœ—] $isim bulunamadÄ±.${reset}"
                fi
                sleep 0.2
            done
            echo -e "${cyan}Tarama tamamlandÄ±.${reset}"
            read -p "â†©ï¸ Enter ile menÃ¼ye dÃ¶n..."
            clear
            ;;
        3)
            clear
            figlet "GTX LINKSCAN" | lolcat
            echo -e "${cyan}Bir URLâ€™nin HTTPS, domain, durum kodunu analiz eder.${reset}"
            read -p "ğŸ”— URL girin: " url
            domain=$(echo "$url" | awk -F/ '{print $3}')

            if echo "$url" | grep -q "^https://"; then
                echo -e "${green}[âœ“] HTTPS kullanÄ±lÄ±yor.${reset}"
            else
                echo -e "${yellow}[!] HTTPS yok. Risk olabilir.${reset}"
            fi

            echo -e "${cyan}[+] Domain bilgisi:${reset}"
            whois $domain | grep -Ei "Registrar|Creation Date" | head -n 5

            httpcode=$(curl -s -o /dev/null -w "%{http_code}" "$url")
            if [[ "$httpcode" == "200" ]]; then
                echo -e "${green}[âœ“] Link Ã§alÄ±ÅŸÄ±yor.${reset}"
            else
                echo -e "${red}[âœ—] Link sorunlu. Kod: $httpcode${reset}"
            fi
            read -p "â†©ï¸ Enter ile menÃ¼ye dÃ¶n..."
            clear
            ;;
        4)
            clear
            figlet "GTX SYSTEM" | lolcat
            echo -e "${cyan}Cihaz bilgileri:${reset}\n"
            echo -e "${yellow}â€¢ OS         :${reset} $(uname -o)"
            echo -e "${yellow}â€¢ Kernel     :${reset} $(uname -r)"
            echo -e "${yellow}â€¢ Mimari     :${reset} $(uname -m)"
            echo -e "${yellow}â€¢ KullanÄ±cÄ±  :${reset} $USER"
            echo -e "${yellow}â€¢ IP         :${reset} $(curl -s ifconfig.me)"
            echo -e "${yellow}â€¢ Depolama   :${reset}"
            df -h | grep '^/data' || df -h | grep '/dev/root'
            read -p "â†©ï¸ Enter ile menÃ¼ye dÃ¶n..."
            clear
            ;;
        5)
            echo -e "${cyan}Ã‡Ä±kÄ±ÅŸ yapÄ±lÄ±yor. HoÅŸÃ§akal.${reset}"
            exit 0
            ;;
        *)
            echo -e "${red}GeÃ§ersiz seÃ§im.${reset}"
            ;;
    esac
done